<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£</title>
  <meta name="description" content="‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô ‡∏ú‡∏π‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏Å‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏™‡∏∞‡∏î‡∏ß‡∏Å">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/static/style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#2a9d8f">


</head>
<body>

<header>
  <div class="nav-container">
    <div class="logo">üçΩÔ∏è Nonlapong</div>
    <div class="hamburger" onclick="toggleMenu()">‚ò∞</div>
    <nav id="mobileMenu" class="mobile-nav">
      <a href="#menu-section">üìã ‡πÄ‡∏°‡∏ô‡∏π</a>
      <a href="#ingredient-section">ü•¶ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</a>
      <a href="#contact">üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
    </nav>
  </div>
  <h1>üìã ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h1>
  <button onclick="toggleDarkMode()">üåô ‡∏™‡∏•‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô</button>
</header>

<div id="toast" class="toast"></div>

<main>
  <section>
    <h2>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π</h2>
    <form action="/add_menu" method="POST" onsubmit="return confirmAdd('‡πÄ‡∏°‡∏ô‡∏π')">
      <input type="text" name="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π" required>
      <input type="number" step="0.01" name="price" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢" required>
      <button type="submit" class="btn-add">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π</button>
    </form>
  </section>

  <section id="menu-section">
    <h2>üîé ‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÄ‡∏°‡∏ô‡∏π</h2>
    <input type="text" id="searchMenu" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π..." onkeyup="filterMenu()">
    <input type="number" id="minPrice" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î" oninput="filterMenu()">
    <input type="number" id="maxPrice" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î" oninput="filterMenu()">
    <ul id="menuList">
      {% for menu in menus %}
        <li class="menu-item" data-price="{{ menu.price }}">
          <span class="menu-name"><strong>{{ menu.name }}</strong></span> - {{ menu.price }} ‡∏ö‡∏≤‡∏ó
          <br>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô: {{ menu.cost }} ‡∏ö‡∏≤‡∏ó | ‡∏Å‡∏≥‡πÑ‡∏£: {{ (menu.price - menu.cost)|round(2) }} ‡∏ö‡∏≤‡∏ó

          <form action="/edit_menu" method="POST" class="inline" onsubmit="showToast('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏°‡∏ô‡∏π‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚úÖ')">
            <input type="hidden" name="menu_id" value="{{ menu.id }}">
            <input type="text" name="new_name" value="{{ menu.name }}" required>
            <input type="number" step="0.01" name="new_price" value="{{ menu.price }}" required>
            <button type="submit" class="btn-edit">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏°‡∏ô‡∏π</button>
          </form>

          <form action="/delete_menu" method="POST" class="inline" onsubmit="return confirmDelete('‡πÄ‡∏°‡∏ô‡∏π')">
            <input type="hidden" name="menu_id" value="{{ menu.id }}">
            <button type="submit" class="btn-delete">‡∏•‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
          </form>

          {% if menu.ingredients %}
          <details>
            <summary>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</summary>
            <ul>
              {% for ing in menu.ingredients %}
              <li>
                {{ ing[1] }} ({{ ing[2] }}) √ó {{ ing[3] }} = {{ (ing[3] * ing[4])|round(2) }} ‡∏ö‡∏≤‡∏ó
                <form action="/update_quantity" method="POST" class="inline" onsubmit="showToast('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚úÖ')">
                  <input type="hidden" name="menu_id" value="{{ menu.id }}">
                  <input type="hidden" name="ingredient_id" value="{{ ing[0] }}">
                  <input type="number" step="0.01" name="new_quantity" value="{{ ing[3] }}" style="width:60px;">
                  <button type="submit" class="btn-edit">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </form>
                <form action="/remove_ingredient" method="POST" class="inline" onsubmit="return confirmDelete('‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π')">
                  <input type="hidden" name="menu_id" value="{{ menu.id }}">
                  <input type="hidden" name="ingredient_id" value="{{ ing[0] }}">
                  <button type="submit" class="btn-delete">‡∏•‡∏ö</button>
                </form>
              </li>
              {% endfor %}
            </ul>
          </details>
          {% else %}
          <p><em>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ú‡∏π‡∏Å‡πÑ‡∏ß‡πâ</em></p>
          {% endif %}
        </li>
      {% endfor %}
    </ul>

    <button id="toggleMenuBtn" class="sticky-toggle-btn" onclick="toggleMenuList()">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</button>
  </section>

  <section>
    <h2>ü•¶ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</h2>
    <form action="/add_ingredient" method="POST" onsubmit="return confirmAdd('‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö')">
      <input type="text" name="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö" required>
      <select name="unit" id="unitSelect" required>
        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢ --</option>
        <option value="g">100 ‡∏Å‡∏£‡∏±‡∏° (g)</option>
        <option value="kg">1 ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏° (kg)</option>
        <option value="ml">100 ‡∏°‡∏¥‡∏•‡∏•‡∏¥‡∏•‡∏¥‡∏ï‡∏£ (ml)</option>
        <option value="L">1 ‡∏•‡∏¥‡∏ï‡∏£ (L)</option>
        <option value="pcs">1 ‡∏ä‡∏¥‡πâ‡∏ô</option>
        <option value="pack">1 ‡πÅ‡∏û‡πá‡∏Ñ</option>
        <option value="tbsp">1 ‡∏ä‡πâ‡∏≠‡∏ô‡πÇ‡∏ï‡πä‡∏∞</option>
        <option value="tsp">1 ‡∏ä‡πâ‡∏≠‡∏ô‡∏ä‡∏≤</option>
        <option value="cup">1 ‡∏ñ‡πâ‡∏ß‡∏¢</option>
      </select>
      <input type="number" step="0.01" name="price" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢" required>
      <button type="submit" class="btn-add">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</button>
    </form>
  </section>

  <section>
  <h2>üîó ‡∏ú‡∏π‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</h2>
  <form id="assignIngredientForm" action="/assign_ingredient" method="POST" onsubmit="showToast('‡∏ú‡∏π‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚úÖ')">
    <select name="menu_id" id="menuSelect" required>
      <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π</option>
      {% for menu in menus %}
      <option value="{{ menu.id }}">{{ menu.name }}</option>
      {% endfor %}
    </select>

    <select name="ingredient_id" id="ingredientSelect" required>
      <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</option>
      {% for ing in ingredients %}
      <option value="{{ ing[0] }}">{{ ing[1] }} ({{ ing[2] }})</option>
      {% endfor %}
    </select>

    <input type="number" step="0.01" name="quantity" placeholder="‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ" required>
    <button type="submit" class="btn-add">‡∏ú‡∏π‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</button>
  </form>
</section>


  <section id="ingredient-section">
    <h2>üì¶ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
    <input type="text" id="searchIngredient" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö..." onkeyup="filterIngredient()">
    <ul id="ingredientList">
      {% for ing in ingredients %}
      <li class="ingredient-item">
        <span class="ingredient-name">{{ ing[1] }}</span> ({{ ing[2] }}) - {{ ing[3] }} ‡∏ö‡∏≤‡∏ó
        <form action="/edit_ingredient" method="POST" class="inline" onsubmit="showToast('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚úÖ')">
          <input type="hidden" name="ingredient_id" value="{{ ing[0] }}">
          <input type="text" name="new_name" value="{{ ing[1] }}" required>
          <input type="text" name="new_unit" value="{{ ing[2] }}">
          <input type="number" step="0.01" name="new_price" value="{{ ing[3] }}" required>
          <button type="submit" class="btn-edit">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
        </form>
        <form action="/delete_ingredient" method="POST" class="inline" onsubmit="return confirmDelete('‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö')">
          <input type="hidden" name="ingredient_id" value="{{ ing[0] }}">
          <button type="submit" class="btn-delete">‡∏•‡∏ö</button>
        </form>
      </li>
      {% endfor %}
    </ul>

    <button id="toggleIngredientBtn" class="sticky-toggle-btn" onclick="toggleIngredientList()">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</button>
  </section>

  <section id="contact">
    <h2>üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</h2>
    <p>‡πÇ‡∏ó‡∏£: 012-345-6789<br>‡∏≠‡∏µ‡πÄ‡∏°‡∏•: info@nonlapong.com</p>
   
  </section>
</main>

<footer class="foorpad">
   <p>¬© 2025 ‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ Nonlapong - ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢‡∏Ñ‡∏∏‡∏ì</p>
 <br>

<div class="sticky-footer-nav">
<button onclick="document.getElementById('menu-section').scrollIntoView({behavior:'smooth'})">üìã ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π</button>
  <button onclick="document.getElementById('ingredient-section').scrollIntoView({behavior:'smooth'})">ü•¶ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö</button>
  <button onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})">üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</button>

</div>

</footer>


<script src="/static/script.js"></script>

</body>
</html>
